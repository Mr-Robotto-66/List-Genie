<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>List Genie ğŸ§</title>
<link rel="stylesheet" href="style.css">

<!-- Persist last-used theme -->
<script>
if (localStorage.getItem('theme') === 'dark') {
  document.documentElement.setAttribute('data-theme', 'dark');
}
</script>

</head>
<body>

<!-- Broccoli theme button -->
<button id="themeToggle"><span>ğŸ¥¦</span></button>

<!-- Video tutorial button -->
<button id="videoButton" title="How-to Video"><span>ğŸ¬</span></button>

<!-- Help button -->
<button id="helpButton" title="Help & Features"><span>â“</span></button>

<!-- MAIN CARD -->
<div class="card">
  <h1 style="margin-top:0">List Genie ğŸ§â€â™‚ï¸</h1>

  <div class="top-actions">
    <button id="clear">ğŸ—‘ï¸ Clear Input</button>
    <button id="exclude">ğŸš« Excluded Characters</button>

    <div class="toggle-wrap">
      <input type="checkbox" id="splitNewline">
      <label for="splitNewline">Split on newline</label>
    </div>
    <div class="toggle-wrap">
      <input type="checkbox" id="caseSensitive">
      <label for="caseSensitive">Case Sensitive</label>
    </div>
  </div>

  <!-- List 1 -->
  <label for="input1">List 1:</label>
  <textarea id="input1" placeholder="eg. ink   me Raita"></textarea>

<div class="form-row">
  <label for="format">Output style:</label>
  <select id="format">
    <option value="comma">Comma Delimited</option>
    <option value="defq">Definition Query</option>
    <option value="defqNoQ">Definition Query (No Quotes)</option>
    <option value="qb">Query Builder (| pipe)</option>
  </select>
</div>

  <button id="convert">âœ¨ Convert</button>

<label for="output1">Result:</label>
<textarea id="output1" readonly></textarea>
<button id="copy">ğŸ“‹ Copy Result</button>

<!-- List 2 section with its own copy button -->
<div id="secondWrap" style="display:none">
  <hr style="margin:2rem 0 1rem;border:none;border-top:1px solid var(--glass-border)">
  <label for="input2">List 2:</label>
  <textarea id="input2" placeholder="Second listâ€¦"></textarea>

  <label for="output2">Result 2:</label>
  <textarea id="output2" readonly></textarea>
  <button id="copy2">ğŸ“‹ Copy Result 2</button>
</div>

<!-- Move these buttons to the bottom -->
<div style="display:flex;flex-wrap:wrap;align-items:center;margin-top:1.5rem">
  <button id="info">â„¹ï¸ Additional List Info</button>
  <button id="add2">â• Add 2nd List to Compare</button>
</div>

<!-- INFO MODAL -->
<div id="infoModal" class="modal">
  <div id="infoBackdrop" class="modalBackdrop"></div>
  <div class="modalCard">
    <button id="closeInfo" class="closeBtn">&times;</button>
    <h2 style="margin-top:0">List Details</h2>
    <pre id="infoBody">No data yet. Convert first!</pre>
  </div>
</div>

<!-- EXCLUDE MODAL -->
<div id="excludeModal" class="modal">
  <div id="excludeBackdrop" class="modalBackdrop"></div>
  <div class="modalCard">
    <button id="closeExclude" class="closeBtn">&times;</button>
    <h2 style="margin-top:0">Exclude Characters</h2>
    <p style="margin-top:0">Characters you check (or enter below) will be removed <strong>before</strong> List Genie processes the text.</p>
    <div id="charGrid"></div>
    <label>Other characters to remove:
      <input id="customChars" placeholder="e.g. @#$%" style="width:100%;margin-top:.4rem;">
    </label>
    <button id="applyExclude" style="margin-top:1rem;background:var(--red-500);color:var(--text-invert);">Apply</button>
  </div>
</div>

<!-- HELP MODAL -->
<div id="helpModal" class="modal">
  <div id="helpBackdrop" class="modalBackdrop"></div>
  <div class="modalCard" style="max-width: 700px;">
    <button id="closeHelp" class="closeBtn">&times;</button>
    <h2 style="margin-top:0">List Genie Features & Tips ğŸ§â€â™‚ï¸</h2>
    <div style="max-height: 70vh; overflow-y: auto; padding-right: 10px;">
      
      <h3>ğŸš€ Core Features</h3>
      <ul style="line-height: 1.6;">
        <li><strong>Convert Lists:</strong> Transform a list of items into various formats:
          <ul>
            <li><em>Comma Delimited</em>: item1, item2, item3</li>
            <li><em>Definition Query</em>: ('item1', 'item2') - Great for SQL IN clauses!</li>
            <li><em>Query Builder</em>: item1 | item2 - Useful for regex or filters.</li>
          </ul>
        </li>
        <li><strong>Compare Lists:</strong> Click <strong>"â• Add 2nd List to Compare"</strong> to input a second dataset.
          <ul>
            <li>Finds matching items (intersection).</li>
            <li>Identifies items unique to List 1 or List 2.</li>
          </ul>
        </li>
        <li><strong>Clean Data:</strong> Use <strong>"ğŸš« Excluded Characters"</strong> to strip unwanted symbols (like trailing commas or dots) before processing.</li>
      </ul>

      <h3>ğŸ’¡ Pro Tips</h3>
      <ul style="line-height: 1.6;">
        <li><strong>Split on Newline:</strong> Check this if your data is row-based (like from Excel). Uncheck it if your data is space-separated.</li>
        <li><strong>Case Sensitivity:</strong> By default, "Apple" and "apple" are treated as the same item (case-insensitive). Check "Case Sensitive" to treat them as different.</li>
        <li><strong>Info Button:</strong> Click <strong>"â„¹ï¸ Additional List Info"</strong> after converting to see stats like duplicate counts and total unique items.</li>
      </ul>

      <h3>ğŸ“ Examples</h3>
      <div style="background: rgba(0,0,0,0.05); padding: 10px; border-radius: 8px; margin-bottom: 10px;">
        <strong>Scenario: SQL Query Prep</strong><br>
        <em>Input:</em><br>
        <code>
        ID_123<br>
        ID_456
        </code><br>
        <em>Settings:</em> Select "Definition Query"<br>
        <em>Result:</em> <code>('ID_123', 'ID_456')</code>
      </div>
      
      <div style="background: rgba(0,0,0,0.05); padding: 10px; border-radius: 8px;">
        <strong>Scenario: Cleaning Text</strong><br>
        <em>Input:</em> <code>item1, item2, item3.</code><br>
        <em>Action:</em> Open "Excluded Characters", check "Comma (,)" and "Period (.)".<br>
        <em>Result (Comma Delimited):</em> <code>item1, item2, item3</code>
      </div>

    </div>
  </div>
</div>

<!-- JS LIB -->
<script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.9.2/dist/confetti.browser.min.js"></script>
<script src="script.js"></script>

</body>
</html>
